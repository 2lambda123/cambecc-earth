
<html lang="en">
<head>

  <title>Heat Sink Creation from Image </title>

</head>

<body>



<h1>Create Heat Sink Network</h1>

<p id="demo"> 0 </p>

<button type="button" onclick="GetGrid()"> Create Network</button>

<canvas id="myFakeCanvas"></canvas>

<script>




function GetGrid()
{

	var canvas = document.getElementById('myFakeCanvas'),
	context = canvas.getContext('2d');  
	var myImage = new Image();
  	myImage.src = 'Full Roads copy.png';

  	//context.drawImage(myImage, 10, 10);
  	myImage.onload = function() {
  		//debugger
		context.drawImage(myImage, 0, 0);
		myImage.style.display = 'none';
		var imageData = context.getImageData(0,0,myImage.width, myImage.height);
		var data = imageData.data;
		var myImageWidth = myImage.width;
		var myImageHeight= myImage.height;
		console.log(imageData.width);
		console.log(imageData.height);
		var XIndices = [];
		var YIndices = [];
		var totalHeatNetCount=0;
		var tempX, tempY;
		//for (var i = 0; i < data.length; i += 4) {
		for (var i = 0; i < data.length; i += 4) {
			
			if( data[i]+ data[i+1]+data [i+2] > 5)
			{
				tempX = (i/4)%myImageWidth;
				tempY = Math.floor((i/4)/myImageWidth);
				// console.log(totalHeatNetCount);
				// console.log(tempX);
				// console.log(tempY);
				data[i]=0;
				data[i+1]=255;
				data[i+2]=0;
				data[i+3]=255;
				XIndices.push(tempX);
				YIndices.push(tempY);
				totalHeatNetCount++;
			}
			else
			{
				data[i]=255;
				data[i+1]=0;
				data[i+2]=0;
				data[i+3]=255;
			}
		}
		context.putImageData(imageData, 0, 0);
		console.log(XIndices);
		console.log(JSON.stringify(XIndices));
		debugger
	};
}





</script>




</body>
</html>